(this["webpackJsonpmovie-app"]=this["webpackJsonpmovie-app"]||[]).push([[0],{185:function(e,n,t){},212:function(e,n,t){"use strict";t.r(n);var a,r,i,c,o,s,l,d,b,j=t(13),u=t(0),p=t(19),O=t.n(p),h=(t(185),t(7)),f=t(11),m=t(30),x=t(14),g=t(14).atom,v=g({key:"areas",default:[]}),y=g({key:"theaters",default:[]}),w=g({key:"movies",default:[]}),k=g({key:"isLoggedIn",default:!!localStorage.getItem("token")}),_=g({key:"message",default:""}),S=(g({key:"mylist",default:[]}),g({key:"userData",default:{username:"",avatar:"",favorite_movies:[]}})),C=t(9),D=t(121),q=function(){var e=Object(x.useRecoilState)(k),n=Object(C.a)(e,2),t=(n[0],n[1]);return function(){t(!!localStorage.getItem("token"))}},z=function(){var e=Object(x.useRecoilState)(S),n=Object(C.a)(e,2),t=n[0],a=n[1],r=t.favorite_movies;return function(e,n){a(e?Object(j.a)(Object(j.a)({},t),{},{favorite_movies:r.concat(n)}):Object(j.a)(Object(j.a)({},t),{},{favorite_movies:r.filter((function(e){return e!==n}))}))}},M=t(2),$=f.c.div(a||(a=Object(h.a)(["\n  border: 2px solid rgba(255, 255, 255, 0.2);\n  background: ",";\n  width: 32px;\n  height: 32px;\n  font-size: 16px;\n  border-radius: 32px;\n  overflow: hidden;\n  position: absolute;\n  right: 20px;\n  top: 20px;\n  opacity: 0;\n\n  &:hover {\n    border: 2px solid #ffffff;\n    div {\n      top: -32px;\n    }\n  }\n  div {\n    position: absolute;\n    top: ",";\n    left: 4px;\n    height: 64px;\n    width: 32px;\n    -webkit-transition: 0.125s ease;\n    transition: 0.125s ease;\n    svg {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      height: 32px;\n      width: 32px;\n    }\n  }\n"])),(function(e){return e.toggled?"#e50914":"none"}),(function(e){return e.toggled?"-32px":"0"})),I=function(e){var n=e.movie_id,t=Object(x.useRecoilValue)(S).favorite_movies,a=Object(u.useState)(!1),r=Object(C.a)(a,2),i=r[0],c=r[1],o=z(),s=Object(u.useRef)(!1);return Object(u.useEffect)((function(){c(t.includes(n))}),[t,n]),Object(u.useEffect)((function(){return s.current?o(i,n):s.current=!0,function(){s.current=!1}}),[i]),Object(M.jsx)($,{toggled:i,onClick:function(e){e.preventDefault(),c(!i)},children:Object(M.jsxs)("div",{children:[Object(M.jsx)(D.a,{icon:["fas","plus"],size:"lg"}),Object(M.jsx)(D.a,{icon:["fas","check"],size:"lg"})]})})},R=f.c.div(r||(r=Object(h.a)(["\n  width: 230px;\n  background-color: #000;\n  background-image: url(",");\n  background-position: center;\n  background-size: 100%;\n  height: 328px;\n  background-repeat: no-repeat;\n  overflow: hidden;\n  margin-right: 10px;\n  transition: background 1s ease;\n  margin-bottom: 20px;\n  &:last-child {\n    margin-right: 0;\n  }\n  &:hover {\n    background-size: 150%;\n    div {\n      opacity: 1;\n      div:nth-child(3) {\n        margin-top: 10px;\n      }\n    }\n    div :first-child {\n      pointer-events: all;\n    }\n  }\n"])),(function(e){return"".concat(e.backdrop)})),T=f.c.div(i||(i=Object(h.a)(["\n  background: linear-gradient(\n    to bottom,\n    rgba(0, 0, 0, 0.75) 0%,\n    transparent 100%\n  );\n  padding: 20px;\n  position: relative;\n  height: 100%;\n  pointer-events: none;\n  opacity: 0;\n  transition: opacity 0.125s ease;\n"]))),F=f.c.div(c||(c=Object(h.a)(["\n  font-size: 22px;\n  font-weight: 200;\n  opacity: 0;\n  transition: opacity 0.25s ease;\n  &:hover {\n    margin-top: 10px;\n    opacity: 1;\n  }\n"]))),E=f.c.div(o||(o=Object(h.a)(["\n  font-size: 14px;\n  opacity: 0;\n  transition: opacity 0.25s ease 0.125s;\n"]))),A=f.c.div(s||(s=Object(h.a)(["\n  font-size: 14px;\n  margin-top: 100px;\n  font-weight: 300;\n  line-height: 1.6;\n  opacity: 0;\n  overflow: hidden;\n  display: -webkit-box;\n  -webkit-line-clamp: 5;\n  -webkit-box-orient: vertical;\n  text-overflow: ellipsis;\n  transition: margin 0.25s ease 0.125s, opacity 0.25s ease 0.25s;\n"])));function L(e){var n=e.info,t=n.title,a=n.anticipation,r=n.img_src,i=n.release_text,c=n.movie_id,o=Object(x.useRecoilValue)(k);return Object(M.jsx)(R,{backdrop:r,children:Object(M.jsx)(m.b,{to:{pathname:"/movie-info/".concat(t),state:Object(j.a)({},n)},children:Object(M.jsxs)(T,{children:[Object(M.jsx)(F,{children:t}),Object(M.jsx)(E,{children:a}),Object(M.jsxs)(A,{children:[" ",i]}),o&&Object(M.jsx)(I,{movie_id:c})]})})})}var B,P,V,W,N,U=f.c.div(l||(l=Object(h.a)(["\n  padding: 20px 40px;\n  box-sizing: border-box;\n  transition: opacity 3s ease;\n  opacity: 1;\n  position: relative;\n  z-index: 4;\n"]))),Q=f.c.div(d||(d=Object(h.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  margin: 20px 0;\n  width: calc(100vw - 80px);\n  box-sizing: border-box;\n"]))),H=f.c.div(b||(b=Object(h.a)(["\n  display: flex;\n  flex-direction: column;\n  flex-wrap: wrap;\n  font-size: 24px;\n  font-weight: 600;\n  line-height: 1.4;\n  margin-bottom: 1em;\n"])));function Z(e){var n=e.title,t=e.movieDatas.map((function(e){return Object(M.jsx)(L,{info:e},e.movie_id)}));return Object(M.jsx)(U,{children:Object(M.jsxs)(H,{children:[Object(M.jsx)("h1",{children:n}),Object(M.jsx)(Q,{children:t})]})})}var G,J,Y=f.c.div(B||(B=Object(h.a)(["\n  position: relative;\n  z-index: 4;\n  width: 500px;\n  left: 60px;\n  top: 40vh;\n  margin-right: 72px;\n  p {\n    width: 100%;\n  }\n  h2 {\n    font-size: 24px;\n    margin-bottom: 24px;\n  }\n"]))),K=f.c.p(P||(P=Object(h.a)(["\n  font-size: 48px;\n  font-weight: 600;\n  margin-bottom: 16px;\n"]))),X=f.c.div(V||(V=Object(h.a)(["\n  display: flex;\n  width: 200px;\n  margin-top: 30px;\n  justify-content: space-between;\n"]))),ee=f.c.button(W||(W=Object(h.a)(["\n  ","\n  background: transparent;\n  display: flex;\n  height: 40px;\n  align-items: center;\n  justify-content: center;\n  color: #fff;\n  padding: 20px;\n  box-sizing: border-box;\n  border: 2px solid rgba(245, 245, 241, 0.2);\n  border-radius: 40px;\n  font-size: 14px;\n  font-weight: 600;\n  transition: border 0.125s ease, background 0.125s ease;\n  cursor: pointer;\n  &:focus {\n    outline: none;\n  }\n  &:hover,\n  &:active {\n    border: 2px solid #fff;\n  }\n"])),(function(e){return e.toggled&&Object(f.b)(N||(N=Object(h.a)(["\n      border: 2px solid red !important;\n      color: red !important;\n    "])))}));function ne(e){var n=e.info,t=n.title,a=n.movie_id,r=Object(x.useRecoilValue)(S).favorite_movies,i=z(),c=r.includes(a),o=Object(u.useState)(c),s=Object(C.a)(o,2),l=s[0],d=s[1],b=Object(u.useRef)(!1),p=Object(x.useRecoilValue)(k);return Object(u.useEffect)((function(){b.current?i(l,a):b.current=!0}),[l]),Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(Y,{children:[Object(M.jsx)(K,{children:n.title}),Object(M.jsx)("h2",{children:"Now available"}),Object(M.jsxs)(X,{children:[Object(M.jsx)(ee,{children:Object(M.jsx)(m.b,{to:{pathname:"/movie-info/".concat(t),state:Object(j.a)({},n)},children:"\u6642\u523b\u8868"})}),p&&Object(M.jsxs)(ee,{toggled:l,onClick:function(){return d(!l)},children:[l?" On":"+ My"," List"]})]})]}),Object(M.jsx)("img",{src:n.img_src,alt:n.title})]})}var te=f.c.div(G||(G=Object(h.a)(["\n  background-image: ",";\n  width: 100%;\n  position: relative;\n  background-size: cover;\n  background-position: center;\n  background-repeat: no-repeat;\n  height: 952px;\n"])),(function(e){return"url(".concat(e.url,")")})),ae=f.c.div(J||(J=Object(h.a)(["\n  height: 100%;\n  background-image: linear-gradient(\n    rgba(0, 0, 0, 0.85) 15%,\n    rgba(0, 0, 0, 0.2) 40%,\n    #000 90%\n  );\n  display: flex;\n"])));function re(e){var n=e.info;return Object(M.jsx)(te,{url:n.img_src,children:Object(M.jsx)(ae,{children:Object(M.jsx)(ne,{info:n})})})}var ie=t(154),ce=t.n(ie),oe=[{img_src:"https://movies.yahoo.com.tw/i/o/production/movies/March2021/vsfkM9g2D2WvlOqvcuS2-672x953.jpg",title:"\u7576\u7537\u4eba\u6200\u611b\u6642",movie_id:"11255"},{img_src:"https://movies.yahoo.com.tw/i/o/production/movies/March2021/S5Cyarbok0LDaYkEhe9x-742x1080.jpg",title:"\u540d\u5075\u63a2\u67ef\u5357\uff1a\u7dcb\u8272\u7684\u4e0d\u5728\u5834\u8b49\u660e",movie_id:"11281"},{img_src:"https://movies.yahoo.com.tw/i/o/production/movies/March2021/zdiICr3wA7jaeEANB68a-757x1080.jpg",title:"\u6c38\u751f\u6230",movie_id:"11073"},{img_src:"https://movies.yahoo.com.tw/i/o/production/movies/March2021/Li5ikEWlp63wbE4lLWWb-757x1080.jpg",title:"\u807d\u898b\u6b4c \u518d\u5531",movie_id:"11232"},{img_src:"https://movies.yahoo.com.tw/i/o/production/movies/March2021/dlEo9295zU5P29FppTiN-757x1080.jpg",title:"\u54e5\u5409\u62c9\u5927\u6230\u91d1\u525b",movie_id:"11215"}];var se,le,de,be,je,ue,pe=function(){var e=Object(x.useRecoilValue)(w);return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(ce.a,{stopAutoPlayOnHover:!0,animation:"slide",interval:3e3,navButtonsAlwaysVisible:!0,children:oe.map((function(e,n){return Object(M.jsx)(re,{info:e},n)}))}),Object(M.jsx)(Z,{title:"\u73fe\u6b63\u71b1\u6620\u4e2d",movieDatas:e})]})},Oe=t(27),he=t(78),fe=t(162),me=t(126),xe=t(20),ge=t(20).gql,ve=ge(se||(se=Object(h.a)(["\n  query queryAllArea {\n    queryAllArea {\n      area_name\n      area_id\n    }\n  }\n"]))),ye=ge(le||(le=Object(h.a)(["\n  query getAllTheaters {\n    getAllTheaters {\n      theater_id\n      theater_name\n      area_id\n    }\n  }\n"]))),we=ge(de||(de=Object(h.a)(["\n  query queryMoviesByDate($date: String!) {\n    queryMoviesByDate(date: $date) {\n      movie_id\n      title\n      anticipation\n      satifaction\n      img_src\n      release_time\n      release_text\n      info_src\n    }\n  }\n"]))),ke=(ge(be||(be=Object(h.a)(["\n  query queryTimeById($id: String!) {\n    queryTimeById(id: $id) {\n      theater_id\n      type\n      show_time\n    }\n  }\n"]))),ge(je||(je=Object(h.a)(["\n  query queryMoviesByIds($ids: [String!]) {\n    queryMoviesByIds(ids: $ids) {\n      movie_id\n      title\n      anticipation\n      satifaction\n      img_src\n      release_time\n      release_text\n      info_src\n    }\n  }\n"])))),_e=t(267),Se=t(265),Ce=f.c.input(ue||(ue=Object(h.a)(["\n  color: #fff;\n  font-family: 'Lato', sans-serif;\n  font-weight: 300;\n  font-size: 14px;\n  height: 36px;\n  width: ",";\n  appearance: none;\n  border: 0;\n  border: 2px solid rgba(245, 245, 245, 0.1);\n  background: transparent;\n  outline: none;\n  border-radius: 36px;\n  padding: 0 10px;\n  pointer-events: all;\n  transition: border 0.25s ease, width 0.125s ease 0.125s;\n  &:focus {\n    border: 2px solid #e50914;\n    width: ",";\n  }\n"])),(function(e){return"".concat(e.width,"%")}),(function(e){return"".concat(1.5*Number(e.width),"%")}));var De,qe=function(e){var n=e.text,t=e.width,a=e.searchEvent;return Object(M.jsx)(Ce,{type:"search",placeholder:n,width:t,onBlur:a})},ze=Object(x.selector)({key:"messageState",get:function(e){var n=e.get;return{isOpen:Boolean(n(_))}}}),Me=t(52),$e=function(e,n){return e.reduce((function(e,t){var a=n.filter((function(e){var n=e.theater_id;return t.theater_id===n}));return a.length>0&&(e[t.theater_name]=a.reduce((function(e,n){var t=n.type;return e[t]||(e[t]=[]),e[t].push(n),e[t].sort((function(e,n){return e.show_time.localeCompare(n.show_time)})),e}),{})),e}),{})},Ie=function(e){var n="".concat(e.getMonth()+1).padStart(2,"0"),t="".concat(e.getDate()).padStart(2,"0");return"".concat(e.getFullYear(),"-").concat(n,"-").concat(t)},Re=function(e,n,t){var a=e.target.value,r=e.target.name,i=null;switch(r){case"username":a.trim()||(i="\u8acb\u8f38\u5165\u59d3\u540d");break;case"password":a.trim().length<8&&(i="\u5bc6\u78bc\u9577\u5ea6\u9700\u5927\u65bc8");break;case"email":/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z]+$/.test(a)||(i="email\u683c\u5f0f\u4e0d\u5c0d");break;case"comfiredPassword":document.querySelector("#password").value!==document.querySelector("#comfiredPassword").value&&(i="\u5bc6\u78bc\u4e0d\u543b\u5408");break;case"readTerms":i=!t[r]}n(Object(j.a)(Object(j.a)({},t),{},Object(Me.a)({},r,i)))},Te=f.c.nav(De||(De=Object(h.a)(["\n  ul {\n    display: flex;\n    height: 37px;\n    align-items: center;\n    padding: 0 10px;\n    li {\n      font-weight: 400;\n      padding: 8px 10px;\n      transition: background 0.125s ease;\n      border-radius: 4px;\n      &:hover {\n        background: rgba(255, 255, 255, 0.2);\n        cursor: pointer;\n      }\n    }\n  }\n"])));var Fe,Ee,Ae,Le,Be,Pe,Ve,We,Ne,Ue,Qe,He,Ze=function(){var e=Object(x.useRecoilValue)(k);return Object(M.jsx)(Te,{children:Object(M.jsxs)("ul",{children:[Object(M.jsx)("li",{children:Object(M.jsx)(m.b,{to:"/",children:"Browse"})}),e&&Object(M.jsxs)("li",{children:[" ",Object(M.jsx)(m.b,{to:"/myList",children:"My List"})]})]})})},Ge=t(23),Je=t.n(Ge),Ye=t(39),Ke=t(252),Xe=t(253),en=t(20).gql,nn=en(Fe||(Fe=Object(h.a)(["\n  mutation queryTimeByMovieId(\n    $id: String!\n    $date: String!\n    $theater_ids: [String!]!\n  ) {\n    queryTimeByMovieId(id: $id, date: $date, theater_ids: $theater_ids) {\n      theater_id\n      type\n      show_time\n    }\n  }\n"]))),tn=en(Ee||(Ee=Object(h.a)(["\n  mutation LoginWithOauth($email: String!, $id: String!) {\n    LoginWithOauth(email: $email, id: $id)\n  }\n"]))),an=en(Ae||(Ae=Object(h.a)(["\n  mutation logout {\n    logout\n  }\n"]))),rn=en(Le||(Le=Object(h.a)(["\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password)\n  }\n"]))),cn=en(Be||(Be=Object(h.a)(["\n  mutation registerUser(\n    $username: String!\n    $email: String!\n    $password: String!\n  ) {\n    registerUser(\n      data: { username: $username, email: $email, password: $password }\n    )\n  }\n"]))),on=en(Pe||(Pe=Object(h.a)(["\n  mutation sendComfiredEmail($email: String!) {\n    sendComfiredEmail(email: $email)\n  }\n"]))),sn=en(Ve||(Ve=Object(h.a)(["\n  mutation changePassword($password: String!, $token: String!) {\n    changePassword(data: { password: $password, token: $token })\n  }\n"]))),ln=en(We||(We=Object(h.a)(["\n  mutation addFoviesMovie($favorite_movies: [String!]!) {\n    addFoviesMovie(favorite_movies: $favorite_movies)\n  }\n"]))),dn=en(Ne||(Ne=Object(h.a)(["\n  mutation me {\n    me {\n      username\n      favorite_movies\n      avatar\n    }\n  }\n"]))),bn=f.c.div(Ue||(Ue=Object(h.a)(["\n  cursor: pointer;\n  display: flex;\n"]))),jn=f.c.div(Qe||(Qe=Object(h.a)(["\n  border-radius: 40px;\n  margin-left: 12px;\n  overflow: hidden;\n  width: 40px;\n  height: 40px;\n  border: 3px solid transparent;\n  transition: broder 0.125s ease;\n  &:hover {\n    border: 3px solid #e50914;\n  }\n  img {\n    width: 100%;\n    display: block;\n  }\n"]))),un=f.c.h2(He||(He=Object(h.a)(["\n  display: flex;\n  align-items: center;\n  font-weight: 300;\n  height: 40px;\n  font-size: 24px;\n"])));var pn,On,hn,fn=Object(Oe.h)((function(e){var n=Object(x.useRecoilState)(_),t=Object(C.a)(n,2),a=(t[0],t[1]),r=Object(xe.useMutation)(dn),i=Object(C.a)(r,2),c=i[0],o=i[1],s=(o.error,o.loading),l=q(),d=Object(x.useRecoilValue)(k),b=Object(xe.useMutation)(an),j=Object(C.a)(b,1)[0],p=Object(xe.useMutation)(ln),O=Object(C.a)(p,1)[0],h=Object(x.useRecoilState)(S),f=Object(C.a)(h,2),m=f[0],g=f[1],v=Object(u.useRef)(!1),y=Object(u.useCallback)(Object(Ye.a)(Je.a.mark((function e(){var n,t;return Je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c();case 3:n=e.sent,t=n.data,g(t.me),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[c]);Object(u.useEffect)((function(){d&&y()}),[]),Object(u.useEffect)((function(){if(v.current)try{O({variables:{favorite_movies:m.favorite_movies}})}catch(e){console.error(e)}else v.current=!0}),[m.favorite_movies]);var w=function(){var n=Object(Ye.a)(Je.a.mark((function n(){var t;return Je.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,j();case 3:t=n.sent,t.data.logout&&(localStorage.removeItem("token"),l(),g({username:"",avatar:"",favorite_movies:[]}),a("\u60a8\u5df2\u7d93\u767b\u51fa"),e.history.push("/")),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.error(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(){return n.apply(this,arguments)}}();return s?Object(M.jsx)("div",{children:Object(M.jsx)(Ke.a,{})}):Object(M.jsxs)(bn,{children:[Object(M.jsx)(Xe.a,{onClick:w,color:"secondary",children:"\u767b\u51fa"}),Object(M.jsx)(un,{children:m.username}),Object(M.jsx)(jn,{children:Object(M.jsx)("img",{src:m.avatar,alt:"profile"})})]})})),mn=f.c.div(pn||(pn=Object(h.a)(["\n  margin-left: auto;\n  a {\n    margin-left: 12px;\n  }\n"]))),xn=f.c.header(On||(On=Object(h.a)(["\n  background: linear-gradient(to bottom, black 0%, transparent 100%);\n  display: flex;\n  padding: 40px;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 95vw;\n  z-index: 5;\n"]))),gn=f.c.div(hn||(hn=Object(h.a)(["\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  left: 0;\n  pointer-events: none;\n"])));var vn,yn=Object(Oe.h)((function(){var e=Object(xe.useQuery)(we,{variables:{date:Ie(new Date)}}),n=e.data,t=e.error,a=e.loading,r=Object(Oe.g)().pathname,i=Object(x.useRecoilValue)(k),c=Object(x.useRecoilValue)(ze).isOpen,o=Object(x.useRecoilState)(w),s=Object(C.a)(o,2),l=s[0],d=s[1],b=Object(u.useState)([]),j=Object(C.a)(b,2),p=j[0],O=j[1],h=Object(x.useRecoilState)(_),f=Object(C.a)(h,2),g=f[0],v=f[1];Object(u.useEffect)((function(){t||a||(d(n.queryMoviesByDate),O(n.queryMoviesByDate))}),[n,t,a]);var y=function(e,n){"clickaway"!==n&&v("")};return Object(M.jsxs)(xn,{children:[Object(M.jsx)(_e.a,{open:c,autoHideDuration:3e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:y,children:Object(M.jsx)(Se.a,{elevation:6,variant:"filled",severity:"success",onClose:y,children:g})}),Object(M.jsx)(Ze,{}),"/"===r&&Object(M.jsx)(gn,{children:Object(M.jsx)(qe,{text:"\u641c\u5c0b\u96fb\u5f71\u540d\u7a31",width:"20",searchEvent:function(e){if(e.target.value){var n=l.filter((function(n){return n.title.includes(e.target.value)}));d(n)}else d(p)}})}),Object(M.jsx)(mn,{children:i?Object(M.jsx)(fn,{}):Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(m.b,{to:"/singUp",children:"\u8a3b\u518a"}),Object(M.jsx)(m.b,{to:"/singIn",children:"\u767b\u5165"})]})})]})})),wn=f.c.main(vn||(vn=Object(h.a)(["\n  padding: 1em;\n  margin-top: 100px;\n  overflow-y: scroll;\n  width: 100%;\n"])));var kn,_n,Sn,Cn=function(e){var n=e.children,t=Object(x.useRecoilState)(v),a=Object(C.a)(t,2),r=(a[0],a[1]),i=Object(x.useRecoilState)(y),c=Object(C.a)(i,2),o=(c[0],c[1]),s=Object(xe.useQuery)(ve),l=Object(xe.useQuery)(ye),d=Object(Oe.g)().pathname;return Object(u.useEffect)((function(){window.scrollTo(0,0)}),[d]),Object(u.useEffect)((function(){s.loading||s.error||r(s.data.queryAllArea),l.loading||l.error||o(l.data.getAllTheaters)}),[s,l]),Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(yn,{}),Object(M.jsx)(wn,{children:n})]})},Dn=t(264),qn=t(270),zn=t(271),Mn=f.c.div(kn||(kn=Object(h.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),$n=f.c.div(_n||(_n=Object(h.a)(["\n  margin-bottom: 8px;\n  min-width: 120px;\n  border-radius: 4px;\n  background-color: white;\n  padding: 16px;\n"]))),In=Object(f.c)(Dn.a)(Sn||(Sn=Object(h.a)(["\n  width: 100px;\n"])));function Rn(e){var n=e.area,t=e.getAreaValue,a=e.areaItems,r=e.searchTheater;return Object(M.jsxs)(Mn,{children:[Object(M.jsxs)($n,{children:[Object(M.jsx)(qn.a,{id:"arae-label",children:"\u9078\u64c7\u5730\u5340"}),Object(M.jsx)(In,{labelId:"arae-label",onChange:t,value:n,children:a.map((function(e){return Object(M.jsx)(zn.a,{value:e.area_id,children:e.area_name},e.area_id)}))})]}),Object(M.jsx)(qe,{text:"\u641c\u5c0b\u6232\u9662\u540d\u7a31",width:"50",searchEvent:r})]})}var Tn,Fn,En,An,Ln,Bn,Pn=t(255),Vn=f.c.div(Tn||(Tn=Object(h.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  div {\n    width: 20%;\n    height: 80px;\n    margin-top: 8px;\n  }\n"]))),Wn=Object(f.c)(Xe.a)(Fn||(Fn=Object(h.a)(["\n  width: 100%;\n\n  ","\n"])),(function(e){return e.selected&&Object(f.b)(En||(En=Object(h.a)(["\n      color: #fff !important;\n    "])))})),Nn=f.c.p(An||(An=Object(h.a)(["\n  margin: 0;\n  font-size: 20px;\n"]))),Un=Object(f.c)(Pn.a)(Ln||(Ln=Object(h.a)(["\n  ","\n"])),(function(e){return e.selected&&Object(f.b)(Bn||(Bn=Object(h.a)(["\n      background-color: #0c5eab !important;\n    "])))}));function Qn(e){var n=e.setQueryDate,t=e.queryDate;return Object(M.jsx)(Vn,{children:[0,1,2,3,4].map((function(e,a){var r=new Date;r.setDate(r.getDate()+e);var i=nt(r,t);return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(Un,{elevation:2,selected:i,children:Object(M.jsxs)(Wn,{selected:i,onClick:function(){n(r)},children:[" ",Object(M.jsxs)(Nn,{children:[r.getMonth()+1," \u6708 ",Object(M.jsx)("br",{}),r.getDate(),"\u65e5"]},"".concat(e,"-p"))]},"".concat(e,"-Button"))},"".concat(e,"-Paper"))})}))})}var Hn,Zn,Gn,Jn,Yn,Kn,Xn,et,nt=function(e,n){return e.getDate()===n.getDate()&&e.getMonth()===n.getMonth()},tt=f.c.div(Hn||(Hn=Object(h.a)(["\n  height: 510px;\n"]))),at=f.c.ul(Zn||(Zn=Object(h.a)(["\n  height: 510px;\n  overflow-y: scroll;\n  li {\n    padding-bottom: 28px;\n    border-bottom: 2px solid red;\n    p {\n      font-size: 16px;\n      color: #434eae;\n      font-weight: 700;\n      margin: 8px auto;\n    }\n  }\n"]))),rt=f.c.div(Gn||(Gn=Object(h.a)(["\n  border-radius: 4px;\n  background-color: #c840aa;\n  font-weight: 500;\n  width: 40px;\n  font-size: 12px;\n  text-align: center;\n  margin-top: 8px;\n  margin-bottom: 8px;\n"]))),it=f.c.button(Jn||(Jn=Object(h.a)(["\n  pointer-events: auto;\n  color: #26282a;\n  border: 1px solid #26282a;\n  cursor: pointer;\n  padding: 10px;\n  margin-right: 5px;\n  margin-bottom: 8px;\n  font-size: 16px;\n  border-radius: 4px;\n  &:disabled {\n    border: 1px solid #b9b9b9;\n    color: #b9b9b9;\n    pointer-events: none;\n    background: #fff;\n  }\n"])));function ct(e){var n=e.timeList,t=e.queryDate,a=e.loading,r=function(e){var n="".concat(Ie(t)," ").concat(e),a=new Date(n);return new Date>a};return a?Object(M.jsxs)(tt,{children:[" ",Object(M.jsx)(Ke.a,{})]}):Object.values(n).length?Object(M.jsx)(at,{children:Object.keys(n).map((function(e){return Object(M.jsxs)("li",{children:[Object(M.jsxs)("p",{children:[e,":"]}),Object(M.jsx)("div",{children:Object.keys(n[e]).map((function(t){return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(rt,{children:t},"".concat(e,"-").concat(t)),Object(M.jsx)("div",{children:n[e][t].map((function(n){var a=n.show_time;return Object(M.jsx)(it,{disabled:r(a),children:a},"".concat(e,"-").concat(t,"-").concat(a))}))},"".concat(e,"-").concat(t,"-time"))]})}))},"".concat(e,"-div"))]},e)}))}):Object(M.jsx)(tt,{children:"\u7121\u4e0a\u6620\u8cc7\u6599"})}var ot=f.c.div(Yn||(Yn=Object(h.a)(["\n  margin: 100px;\n  margin-top: 0;\n  h1 {\n    font-size: 42px;\n  }\n"]))),st=f.c.div(Kn||(Kn=Object(h.a)(["\n  border-radius: 3px;\n  background: rgba(177, 165, 165, 0.112);\n  padding: 0;\n  width: 100%;\n  display: flex;\n"]))),lt=f.c.div(Xn||(Xn=Object(h.a)(["\n  width: 50%;\n  background-image: url(",");\n  background-position: center;\n  background-size: contain;\n  background-repeat: no-repeat;\n"])),(function(e){return"".concat(e.backDrop)})),dt=f.c.div(et||(et=Object(h.a)(["\n  width: 50%;\n  padding: 25px;\n  color: #fafafa;\n"])));function bt(e){var n=e.location.state,t=n.movie_id,a=n.title,r=(n.anticipation,n.satifaction,n.img_src),i=(n.release_time,Object(xe.useMutation)(nn)),c=Object(C.a)(i,2),o=c[0],s=c[1].loading,l=Object(x.useRecoilValue)(v),d=Object(x.useRecoilValue)(y),b=Object(u.useState)({}),p=Object(C.a)(b,2),O=p[0],h=p[1],f=Object(u.useState)(new Date),m=Object(C.a)(f,2),g=m[0],w=m[1],k=Object(u.useState)({}),_=Object(C.a)(k,2),S=_[0],D=_[1],q=Object(u.useState)(28),z=Object(C.a)(q,2),$=z[0],I=z[1],R=Object(u.useState)("\u53f0\u5317\u5e02"),T=Object(C.a)(R,2),F=T[0],E=T[1],A=Object(u.useState)(d.filter((function(e){return"28"===e.area_id}))),L=Object(C.a)(A,2),B=L[0],P=L[1];Object(u.useEffect)((function(){P(d.filter((function(e){return e.area_id==="".concat($)})))}),[$,d]),Object(u.useEffect)((function(){V(t,Ie(g),B)}),[g,B,t]);var V=function(){var e=Object(Ye.a)(Je.a.mark((function e(n,t,a){var r,i,c;return Je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.map((function(e){return e.theater_id})),e.prev=1,e.next=4,o({variables:{id:n,date:t,theater_ids:r}});case 4:i=e.sent,c=$e(a,i.data.queryTimeByMovieId),h(Object(j.a)({},c)),D(Object(j.a)({},c)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(n,t,a){return e.apply(this,arguments)}}();return Object(M.jsx)(ot,{children:Object(M.jsxs)(st,{children:[Object(M.jsx)(lt,{backDrop:r}),Object(M.jsxs)(dt,{children:[Object(M.jsx)("h1",{children:a}),Object(M.jsx)(Rn,{area:$,getAreaValue:function(e){var n=e.target.value;I(n),E(l.find((function(e){return e.area_id===n})).area_name)},areaItems:l,searchTheater:function(e){var n=e.target.value.trim();if(n){var t=Object.entries(S).reduce((function(e,t){var a=Object(C.a)(t,2),r=a[0],i=a[1];return r.includes(n)&&(e[r]=i),e}),{});h(Object(j.a)({},t))}else h(Object(j.a)({},S))}}),Object(M.jsx)(Qn,{setQueryDate:function(e){w(e)},queryDate:g}),Object(M.jsx)("h1",{children:F}),Object(M.jsx)(ct,{timeList:O,queryDate:g,loading:s})]})]})})}var jt,ut=t(268),pt=t(266),Ot=t(263),ht=t(262),ft=t(161),mt=t.n(ft),xt=t(168),gt=t(261),vt=t(159),yt=t.n(vt),wt=t(160),kt=t.n(wt),_t=t(135),St=Object(_t.a)((function(e){return{paper:{marginTop:e.spacing(4),display:"flex",flexDirection:"column",alignItems:"center",marginLeft:e.spacing(2),marginRight:e.spacing(2)},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3),color:"white"},submit:{margin:e.spacing(3,0,2)},multilineColor:{color:"white"}}})),Ct=f.c.div(jt||(jt=Object(h.a)(["\n  display: flex;\n  align-items: center;\n  text-align: center;\n  &::before,\n  &::after {\n    content: '';\n    flex: 1;\n    border-bottom: 1px solid white;\n  }\n  &:not(:empty)::before {\n    margin-right: 0.25em;\n  }\n  &:not(:empty)::after {\n    margin-left: 0.25em;\n  }\n"])));function Dt(e){var n=e.children;return Object(M.jsx)(Ct,{children:n})}var qt,zt,Mt,$t,It,Rt,Tt=t(258),Ft=t(134),Et=t(259),At=t(260),Lt=Object(f.c)(pt.a)(qt||(qt=Object(h.a)(["\n  background: #8c8c8c;\n  label {\n    color: white;\n  }\n"])));function Bt(e){var n=e.text,t=e.vaildateFun,a=e.onChangeFun,r=e.errorState,i=Object(u.useState)(!1),c=Object(C.a)(i,2),o=c[0],s=c[1],l=n.charAt(0).toUpperCase()+n.slice(1);return Object(M.jsx)(Lt,{variant:"filled",color:"secondary",required:!0,fullWidth:!0,name:n,label:l,type:o?"text":"password",id:n,autoComplete:'"current-'.concat(n,'"'),error:!!r[n],helperText:r[n],onChange:function(e){a(e),t(e)},InputProps:{endAdornment:Object(M.jsx)(Tt.a,{position:"end",children:Object(M.jsx)(Ft.a,{"aria-label":"toggle password visibility",onClick:function(){s(!o)},onMouseDown:function(e){e.preventDefault()},children:o?Object(M.jsx)(Et.a,{}):Object(M.jsx)(At.a,{})})})}})}var Pt,Vt,Wt,Nt=Object(f.c)(gt.a)(zt||(zt=Object(h.a)(["\n  background-color: rgba(0, 0, 0, 0.75);\n  border-radius: 8px;\n  padding-top: 2px;\n"]))),Ut=Object(f.c)(pt.a)(Mt||(Mt=Object(h.a)(["\n  background: #8c8c8c;\n  label {\n    color: white;\n  }\n"]))),Qt=f.c.input($t||($t=Object(h.a)(["\n  width: 16px;\n  height: 16px;\n  margin: 0 8px;\n"]))),Ht=Object(f.c)(Xe.a)(It||(It=Object(h.a)(["\n  &:disabled {\n    background-color: #e0e0e0 !important;\n  }\n"]))),Zt=Object(f.c)(yt.a)(Rt||(Rt=Object(h.a)(["\n  width: 100%;\n  justify-content: center;\n  div {\n    display: flex;\n  }\n"]))),Gt=Object(Oe.h)((function(e){var n=e.formStyle,t=e.action,a="singUp"===n,r={password:"",email:""};a&&(r.username="",r.comfiredPassword="");var i=St(),c=q(),o=Object(xe.useMutation)(tn),s=Object(C.a)(o,1)[0],l=Object(u.useState)(r),d=Object(C.a)(l,2),b=d[0],p=d[1],O=Object(u.useState)(Object(j.a)(Object(j.a)({},r),{},{readTerms:a})),h=Object(C.a)(O,2),f=h[0],x=h[1],g=Object(u.useState)(!0),v=Object(C.a)(g,2),y=v[0],w=v[1],k=Object(u.useState)(!1),_=Object(C.a)(k,2),S=_[0],D=_[1],z=Object(u.useRef)(!1);Object(u.useEffect)((function(){if(z.current){var e=Object.values(f).map(Boolean).some((function(e){return e}))||!Object.values(b).map(Boolean).every((function(e){return e}));w(e)}else z.current=!0}),[f]);var $=function(e){p(Object(j.a)(Object(j.a)({},b),{},Object(Me.a)({},e.target.name,e.target.value)))},I=function(e){Re(e,x,f)},R=function(){var e=Object(Ye.a)(Je.a.mark((function e(n,t){return Je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E({email:n,id:t},s,"LoginWithOauth");case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),T=function(){var e=Object(Ye.a)(Je.a.mark((function e(n){var t,a;return Je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.email,a=n.id,R(t,a);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),F=function(){var e=Object(Ye.a)(Je.a.mark((function e(n){return Je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),E(b,t,a?"registerUser":"login");case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),E=function(){var n=Object(Ye.a)(Je.a.mark((function n(t,a,r){var i,o;return Je.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,D(!0),n.next=4,a({variables:Object(j.a)({},t)});case 4:i=n.sent,o=i.data,e.history.push("/"),localStorage.setItem("token",o[r]),c(),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.error(n.t0);case 14:return n.prev=14,D(!1),n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[0,11,14,17]])})));return function(e,t,a){return n.apply(this,arguments)}}();return Object(M.jsx)(Nt,{component:"main",maxWidth:"xs",children:S?Object(M.jsxs)("div",{children:[" ",Object(M.jsx)(Ke.a,{})]}):Object(M.jsxs)("div",{className:i.paper,children:[Object(M.jsx)(ut.a,{className:i.avatar,children:Object(M.jsx)(mt.a,{})}),Object(M.jsx)(xt.a,{component:"h1",variant:"h4",children:"singUp"===n?"Sign Up":"Sign In"}),Object(M.jsxs)("form",{className:i.form,onSubmit:F,children:[Object(M.jsxs)(ht.a,{container:!0,spacing:2,children:["singUp"===n&&Object(M.jsxs)(M.Fragment,{children:[" ",Object(M.jsx)(ht.a,{item:!0,xs:12,children:Object(M.jsx)(Ut,{autoComplete:"name",color:"secondary",name:"username",variant:"filled",required:!0,fullWidth:!0,id:"username",label:"Name",error:!!f.username,helperText:f.username,onChange:function(e){$(e),I(e)}})})]}),Object(M.jsx)(ht.a,{item:!0,xs:12,children:Object(M.jsx)(Ut,{variant:"filled",color:"secondary",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",error:!!f.email,helperText:f.email,onChange:function(e){$(e),I(e)}})}),Object(M.jsxs)(ht.a,{item:!0,xs:12,children:[Object(M.jsx)(Bt,{text:"password",errorState:f,vaildateFun:I,onChangeFun:$}),"singUp"!==n&&Object(M.jsx)(ht.a,{container:!0,justify:"flex-end",children:Object(M.jsx)(ht.a,{item:!0,children:Object(M.jsx)(m.b,{to:"/forgetPassword",children:"\u5fd8\u8a18\u5bc6\u78bc"})})})]}),"singUp"===n&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(ht.a,{item:!0,xs:12,children:Object(M.jsx)(Bt,{text:"comfiredPassword",vaildateFun:I,onChangeFun:$,errorState:f})}),Object(M.jsx)(ht.a,{item:!0,xs:12,children:Object(M.jsx)(Ot.a,{control:Object(M.jsx)(Qt,{type:"checkbox",name:"readTerms",id:"readTerms",onChange:I}),label:"\u6211\u5df2\u7d93\u8a73\u7d30\u95b1\u8b80\u689d\u6b3e"})})]})]}),Object(M.jsx)(Ht,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",className:i.submit,disabled:y,children:a?"\u8a3b\u518a":"\u767b\u5165"}),a&&Object(M.jsx)(ht.a,{container:!0,justify:"flex-end",children:Object(M.jsx)(ht.a,{item:!0,children:Object(M.jsx)(m.b,{to:"/singIn",children:"\u5df2\u7d93\u6709\u5e33\u865f\u4e86\u55ce\uff1f \u767b\u5165"})})}),Object(M.jsx)(Dt,{children:"\u6216"}),Object(M.jsx)("br",{}),Object(M.jsx)(Zt,{clientId:"136386216549-trpc3906jqgug4po7gbi5q5fveups9nr.apps.googleusercontent.com",buttonText:"Login with Google",onSuccess:function(e){var n=e.profileObj,t=n.email,a=n.googleId;R(t,a)},cookiePolicy:"single_host_origin"}),Object(M.jsx)("br",{}),Object(M.jsx)(kt.a,{appId:"1608569532866737",autoLoad:!1,fields:"name,email,picture",callback:T,cssClass:"my-fb-class",icon:"fa-facebook"})]})]})})}));function Jt(){var e=Object(xe.useMutation)(cn),n=Object(C.a)(e,1)[0];return Object(M.jsx)(Gt,{formStyle:"singUp",action:n})}function Yt(){var e=Object(xe.useMutation)(rn),n=Object(C.a)(e,1)[0];return Object(M.jsx)(Gt,{formStyle:"singIn",action:n})}var Kt=Object(f.c)(gt.a)(Pt||(Pt=Object(h.a)(["\n  background-color: rgba(0, 0, 0, 0.75);\n  border-radius: 8px;\n  padding-top: 2px;\n"]))),Xt=Object(f.c)(pt.a)(Vt||(Vt=Object(h.a)(["\n  background: #8c8c8c;\n  label {\n    color: white;\n  }\n"]))),ea=Object(f.c)(Xe.a)(Wt||(Wt=Object(h.a)(["\n  &:disabled {\n    background-color: #e0e0e0 !important;\n  }\n"])));var na,ta,aa,ra,ia,ca=Object(Oe.h)((function(e){var n=e.formType,t=e.action,a=Object(Oe.g)().pathname,r="comfired"===n,i=St(),c=Object(u.useState)({}),o=Object(C.a)(c,2),s=o[0],l=o[1],d=Object(u.useState)({}),b=Object(C.a)(d,2),p=b[0],O=b[1];Object(u.useEffect)((function(){if(!r){var e=a.slice(17);O(Object(j.a)(Object(j.a)({},p),{},{token:e}))}}),[a]);var h=Object(x.useRecoilState)(_),f=Object(C.a)(h,2),m=(f[0],f[1]),g=function(e){Re(e,l,s)},v=function(e){O(Object(j.a)(Object(j.a)({},p),{},Object(Me.a)({},e.target.name,e.target.value)))},y=function(){var n=Object(Ye.a)(Je.a.mark((function n(a){var i;return Je.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),n.prev=1,n.next=4,t({variables:Object(j.a)({},p)});case 4:i=n.sent,i.data.sendComfiredEmail&&m("\b\u5df2\u5bc4\u51fa\u9a57\u8b49\u4fe1"),r||(m("\u91cd\u8a2d\u5bc6\u78bc\u6210\u529f\uff0c\u8acb\u91cd\u65b0\u767b\u5165"),e.history.push("/")),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),console.error(n.t0);case 13:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e){return n.apply(this,arguments)}}();return Object(M.jsx)(Kt,{component:"main",maxWidth:"xs",children:Object(M.jsxs)("div",{className:i.paper,children:[Object(M.jsx)(xt.a,{component:"h1",variant:"h4",children:r?"Forget Password":"Reset Password"}),Object(M.jsxs)("div",{className:i.form,children:[Object(M.jsxs)(ht.a,{container:!0,spacing:2,children:[r&&Object(M.jsx)(ht.a,{item:!0,xs:12,children:Object(M.jsx)(Xt,{variant:"filled",color:"secondary",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:v})}),!r&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(ht.a,{item:!0,xs:12,children:Object(M.jsx)(Bt,{text:"password",errorState:s,vaildateFun:g,onChangeFun:v})}),Object(M.jsx)(ht.a,{item:!0,xs:12,children:Object(M.jsx)(Bt,{text:"comfiredPassword",vaildateFun:g,onChangeFun:v,errorState:s})})]})]}),Object(M.jsx)(ea,{type:"button",fullWidth:!0,variant:"contained",color:"secondary",className:i.submit,onClick:y,children:r?"\u5bc4\u9001\u9a57\u8b49\u4fe1":"\u91cd\u8a2d\u5bc6\u78bc"})]})]})})}));function oa(){var e=Object(xe.useMutation)(on),n=Object(C.a)(e,1)[0];return Object(M.jsx)(ca,{formType:"comfired",action:n})}function sa(){var e=Object(xe.useMutation)(sn),n=Object(C.a)(e,2),t=n[0],a=n[1],r=a.error;return a.loading?Object(M.jsx)("div",{children:"NOW LOADING"}):r?Object(M.jsx)("div",{children:r}):Object(M.jsx)(ca,{formType:"reset",action:t})}var la=f.c.li(na||(na=Object(h.a)(["\n  display: flex;\n  justify-content: center;\n  padding-bottom: 36px;\n  border-bottom: 1px solid red;\n  margin-bottom: 36px;\n  color: #000;\n"]))),da=f.c.div(ta||(ta=Object(h.a)(["\n  padding: 20px;\n  border-right: 1px solid #d2d2d2;\n  justify-content: center;\n"]))),ba=f.c.div(aa||(aa=Object(h.a)(["\n  padding: 20px;\n  a {\n    line-height: 1.3;\n    color: #434eae;\n    text-decoration: underline;\n  }\n"]))),ja=f.c.div(ra||(ra=Object(h.a)(["\n  background: #ececec;\n  border: 1px solid #d2d2d2;\n  display: flex;\n  width: 800px;\n"]))),ua=f.c.p(ia||(ia=Object(h.a)(["\n  overflow: hidden;\n  display: -webkit-box;\n  -webkit-line-clamp: 7;\n  -webkit-box-orient: vertical;\n  text-overflow: ellipsis;\n"])));function pa(){var e=Object(x.useRecoilValue)(S).favorite_movies,n=Object(xe.useQuery)(ke,{variables:{ids:e}}),t=n.data,a=n.loading,r=n.error,i=Object(u.useState)([]),c=Object(C.a)(i,2),o=c[0],s=c[1];return Object(u.useEffect)((function(){a||r||s(t.queryMoviesByIds)}),[t]),e.length?Object(M.jsx)("ul",{children:o.map((function(e){var n=e.title,t=e.anticipation,a=e.img_src,r=e.release_time,i=e.release_text,c=e.info_src;return Object(M.jsx)(la,{children:Object(M.jsxs)(ja,{children:[Object(M.jsx)(da,{children:Object(M.jsx)("img",{src:a,width:"294px",alt:""})}),Object(M.jsxs)(ba,{children:[Object(M.jsx)("h1",{children:n}),Object(M.jsx)("p",{children:r}),Object(M.jsx)("p",{children:t}),Object(M.jsx)(ua,{children:i}),Object(M.jsx)("a",{href:c,children:"\u8a73\u5168\u6587"})]})]})},n)}))}):Object(M.jsx)("div",{children:"\u5c1a\u7121\u559c\u611b\u96fb\u5f71\u8cc7\u6599"})}var Oa=t(95),ha=function(e){var n=e.component,t=Object(Oa.a)(e,["component"]),a=Object(x.useRecoilValue)(k);return Object(M.jsx)(Oe.b,Object(j.a)(Object(j.a)({},t),{},{render:function(e){return a?Object(M.jsx)(n,Object(j.a)({},e)):Object(M.jsx)(Oe.a,{to:{pathname:"singIn",state:{from:e.location}}})}}))};he.b.add(fe.a,me.a,me.b);var fa,ma=function(){return Object(M.jsx)(m.a,{basename:"/movie-app",children:Object(M.jsx)(Cn,{children:Object(M.jsxs)(Oe.d,{children:[Object(M.jsx)(Oe.b,{path:"/",exact:!0,component:pe}),Object(M.jsx)(Oe.b,{path:"/singUp",component:Jt}),Object(M.jsx)(Oe.b,{path:"/singIn",component:Yt}),Object(M.jsx)(Oe.b,{path:"/forgetPassword",component:oa}),Object(M.jsx)(Oe.b,{path:"/change-password/:token",component:sa}),Object(M.jsx)(Oe.b,{path:"/movie-info/:movieId",component:bt}),Object(M.jsx)(ha,{path:"/myList",component:pa})]})})})},xa=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,272)).then((function(n){var t=n.getCLS,a=n.getFID,r=n.getFCP,i=n.getLCP,c=n.getTTFB;t(e),a(e),r(e),i(e),c(e)}))},ga=t(163),va=t.n(ga),ya=Object(f.a)(fa||(fa=Object(h.a)(["\n    ",'\n\n    html, body, div, span, applet, object, iframe,\n    h1, h2, h3, h4, h5, h6, p, blockquote, pre,\n    a, abbr, acronym, address, big, cite, code,\n    del, dfn, em, img, ins, kbd, q, s, samp,\n    small, strike, strong, sub, sup, tt, var,\n    b, u, i, center,\n    dl, dt, dd, ol, ul, li,\n    fieldset, form, label, legend,\n    table, caption, tbody, tfoot, thead, tr, th, td,\n    article, aside, canvas, details, embed, \n    figure, figcaption, footer, header, hgroup, \n    menu, nav, output, ruby, section, summary,\n    time, mark, audio, video {\n      margin: 0 ;\n      padding: 0;\n      border: 0;\n      font-size: 100%;\n      font: inherit;\n      vertical-align: baseline;\n    }\n    /* HTML5 display-role reset for older browsers */\n    article, aside, details, figcaption, figure, \n      footer, header, hgroup, menu, nav, section {\n      display: block;\n    }\n    body {\n      line-height: 1;\n    }\n    ol, ul {\n      list-style: none;\n    }\n\n    * {\n        @import "https://fonts.googleapis.com/css?family=Lato:100,300,400,700,900";\n      }\n\n    *, *:before, *:after {\n        box-sizing: border-box;\n      }\n    \n      body,\n      html {\n        height: 100%;\n        margin: 0;\n      }\n    \n      body {\n        font-family: "Lato", sans-serif;\n        background-color: #fff;\n        line-height: 1.4;\n        background: #221f1f;\n        color: #ffffff;\n      }\n      \n      a,a:hover{\n        color: #fff;\n        text-decoration:none;\n      }\n    \n      code,\n      pre {\n        max-width: 100%;\n        overflow: auto;\n        margin: 0 auto;\n      }\n\n      .my-fb-class{\n        width: 100%;\n        background: #4c69ba !important;\n        color: #fff;\n        border-right: 1px solid transition !important;\n        border-radius:2px;\n        padding: 10px;\n        font-size: 14px;\n        margin-top: 8px;\n        font-weight: 500;\n        margin-bottom: 20px;\n    }\n\n    .my-fb-class i{\n        margin-right: 20px;\n    }\n'])),va.a),wa=t(164),ka=new xe.InMemoryCache,_a=Object(xe.createHttpLink)({uri:"https://showtimesapi.herokuapp.com/movie-api"}),Sa=Object(wa.a)((function(e,n){var t=n.headers;return{headers:Object(j.a)(Object(j.a)({},t),{},{authorization:localStorage.getItem("token")||""})}})),Ca=new xe.ApolloClient({link:Sa.concat(_a),cache:ka,connectToDevTools:!0});O.a.render(Object(M.jsx)(xe.ApolloProvider,{client:Ca,children:Object(M.jsxs)(x.RecoilRoot,{children:[Object(M.jsx)(ya,{}),Object(M.jsx)(ma,{})]})}),document.getElementById("root")),xa()}},[[212,1,2]]]);
//# sourceMappingURL=main.810967f4.chunk.js.map